<div>
    <div class="wrapper">
        <div class="parameter-block">
            <label>Search: </label>
            <input placeholder="Enter smth..." minlength="3" type="text" [(ngModel)]="search" (ngModelChange)="onSearchChange()">
        </div>
        <div class="parameter-block">
            <label>Rows per page: </label>
            <select [(ngModel)]="selectedLimit" (change)="onLimitChange()">
                @for(limit of limits; track limit){
                <option [value]="limit">{{ limit }}</option>
                }
            </select>
        </div>
        <div class="parameter-block">
            <label>Fields: </label>
            <select [(ngModel)]="selectedField" (change)="onFieldChange()">
                @for(field of fields; track field){
                <option [value]="field.value">{{ field.label }}</option>
                }
            </select>
        </div>
    </div>
    @if(errorMessage){
    <span [ngStyle]="{'color': 'red'}">{{errorMessage}}</span>
    }
</div>

@if (booksList.length > 0) {
<table>
    <tr>
        <th>Title</th>
        <th>Year</th>
        <th>Author</th>
    </tr>
    @for(book of booksList; track book){
    <tr>
        <td>{{book.title}}</td>
        <td>{{book.firstPublishYear}}</td>
        <td>{{book.authorName}}</td>
    </tr>
    }
</table>
} @else {
<p>There is no data</p>
}